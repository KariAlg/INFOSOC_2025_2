{% extends "base.html" %}
{% load static %}

{% block title %}Generar reporte{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/pages/descargar_reporte.css' %}">
{% endblock %}

{% block content %}
<section class="card">
  <div class="row row--between">
    <h1 style="margin:0">Generar reporte</h1>
    <a class="btn btn--siga btn--sm" href="{% url 'panel_home' %}">Volver</a>
  </div>

  <p class="muted">Seleccione opciones para filtrar el reporte.</p>

  {% if error %}
    <div class="alert alert--error" role="alert">{{ error }}</div>
  {% endif %}

  <form method="post" class="form">
    {% csrf_token %}

    <fieldset class="field-group">
      <legend>Rango de fechas</legend>
      <div class="form-grid">
        <div class="field">
          <label class="label" for="diaInicio">Fecha inicial</label>
          <input class="input" type="date" id="diaInicio" name="diaInicio" required>
        </div>
        <div class="field">
          <label class="label" for="diaFinal">Fecha final</label>
          <input class="input" type="date" id="diaFinal" name="diaFinal" required>
        </div>
      </div>
    </fieldset>

    <fieldset class="field-group">
      <legend>Zona de estacionamiento (opcional)</legend>
      <p class="help">Si no selecciona ninguna, se incluyen <strong>todas</strong> las zonas.</p>
      <ul class="checkbox-grid">
        {% for zona in zonas %}
          <li>
            <label class="check">
              <input type="checkbox" name="zona_id" value="{{ zona.id }}">
              <span>{{ zona.nombre_zona }}</span>
            </label>
          </li>
        {% endfor %}
      </ul>
    </fieldset>

    <fieldset class="field-group">
      <legend>Patente (opcional)</legend>
      <p class="help">Si no indica una patente, se incluyen <strong>todos</strong> los vehículos (respetando los demás filtros).</p>
      <div class="field" style="max-width:420px">
        <label class="label" for="patente">Patente</label>
        <input class="input" type="text" id="patente" name="patente" placeholder="ABC123 o AA-BB-11">
      </div>
    </fieldset>

    <div class="actions">
      <button class="btn btn--primary" type="submit">Generar reporte</button>
      <a class="btn btn--ghost" href="{% url 'panel_home' %}">Cancelar</a>
    </div>
  </form>
</section>
{% endblock %}
